import{j as r}from"./jsx-runtime-DoEZbXM1.js";import{r as x}from"./index-DWtqY3O_.js";import{B as l}from"./badge-BhI_kZ9I.js";import{P as g,a as d,b as f}from"./popover-C4RQM193.js";import{C as v,a as j}from"./chevron-up-BDhz3SY9.js";const C={1:["Предлоги","Союзы","Частицы","Местоимения","Наречия","Вводные слова"],6:["Исключить","Заменить"],21:["Запятая","Тире","Двоеточие"],25:["Синонимы","Антонимы","Фразеологизмы","Слово"]};function p({taskNumber:a,selectedCategories:t,onCategoriesChange:u}){const[o,c]=x.useState(!1),n=C[a]||[];if(!n.length)return null;const m=e=>{if(e.length===0)return"Все категории";if(e.length===1)return e[0];if(e.length===2)return`${e[0]} и ${e[1]}`;const s=e[e.length-1];return`${e.slice(0,-1).join(", ")} и ${s}`},h=e=>{const s=t.includes(e)?t.filter(i=>i!==e):[...t,e];u(s.length===0?[...n]:s)};return r.jsxs(g,{open:o,onOpenChange:c,children:[r.jsx(d,{asChild:!0,children:r.jsxs(l,{variant:"outline",className:"cursor-pointer py-1 px-3 flex items-center gap-1.5 hover:bg-gray-100 transition-colors",children:[r.jsx("span",{className:"text-xs",children:m(t.length===0?n:t)}),o?r.jsx(v,{className:"h-3 w-3 flex-shrink-0"}):r.jsx(j,{className:"h-3 w-3 flex-shrink-0"})]})}),r.jsx(f,{className:"w-auto p-2 sm:min-w-[200px]",onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),children:r.jsxs("div",{className:"space-y-2",children:[!1,r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"ESC или клик вне меню для закрытия"}),r.jsx("div",{className:"flex flex-col gap-1",children:n.map(e=>r.jsx(l,{variant:t.includes(e)?"default":"outline",className:`cursor-pointer transition-colors text-xs px-2 py-1.5 ${t.includes(e)?"bg-teal-600 hover:bg-teal-700 text-white border-teal-600":"border-gray-300 text-gray-700 hover:bg-gray-100"} `,onClick:()=>h(e),children:e},e))})]})})]})}try{p.displayName="TaskCategorySelector",p.__docgenInfo={description:"",displayName:"TaskCategorySelector",props:{taskNumber:{defaultValue:null,description:"",name:"taskNumber",required:!0,type:{name:"string"}},selectedCategories:{defaultValue:null,description:"",name:"selectedCategories",required:!0,type:{name:"string[]"}},onCategoriesChange:{defaultValue:null,description:"",name:"onCategoriesChange",required:!0,type:{name:"(categories: string[]) => void"}}}}}catch{}export{p as T};
//# sourceMappingURL=task-category-selector-CyPtx4Pg.js.map
