import{j as O}from"./jsx-runtime-DoEZbXM1.js";import{r as t}from"./index-DWtqY3O_.js";var H=(e,a,s,u,m,l,d,h)=>{let c=document.documentElement,v=["light","dark"];function y(r){(Array.isArray(e)?e:[e]).forEach(f=>{let S=f==="class",C=S&&l?m.map(g=>l[g]||g):m;S?(c.classList.remove(...C),c.classList.add(l&&l[r]?l[r]:r)):c.setAttribute(f,r)}),k(r)}function k(r){h&&v.includes(r)&&(c.style.colorScheme=r)}function i(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)y(u);else try{let r=localStorage.getItem(a)||s,f=d&&r==="system"?i():r;y(f)}catch{}},A=["light","dark"],I="(prefers-color-scheme: dark)",K=typeof window>"u",M=t.createContext(void 0),V=e=>t.useContext(M)?t.createElement(t.Fragment,null,e.children):t.createElement(J,{...e}),W=["light","dark"],J=({forcedTheme:e,disableTransitionOnChange:a=!1,enableSystem:s=!0,enableColorScheme:u=!0,storageKey:m="theme",themes:l=W,defaultTheme:d=s?"system":"light",attribute:h="data-theme",value:c,children:v,nonce:y,scriptProps:k})=>{let[i,r]=t.useState(()=>$(m,d)),[f,S]=t.useState(()=>i==="system"?_():i),C=c?Object.values(c):l,g=t.useCallback(n=>{let o=n;if(!o)return;n==="system"&&s&&(o=_());let b=c?c[o]:o,L=a?z(y):null,w=document.documentElement,x=p=>{p==="class"?(w.classList.remove(...C),b&&w.classList.add(b)):p.startsWith("data-")&&(b?w.setAttribute(p,b):w.removeAttribute(p))};if(Array.isArray(h)?h.forEach(x):x(h),u){let p=A.includes(d)?d:null,j=A.includes(o)?o:p;w.style.colorScheme=j}L==null||L()},[y]),T=t.useCallback(n=>{let o=typeof n=="function"?n(i):n;r(o);try{localStorage.setItem(m,o)}catch{}},[i]),E=t.useCallback(n=>{let o=_(n);S(o),i==="system"&&s&&!e&&g("system")},[i,e]);t.useEffect(()=>{let n=window.matchMedia(I);return n.addListener(E),E(n),()=>n.removeListener(E)},[E]),t.useEffect(()=>{let n=o=>{o.key===m&&(o.newValue?r(o.newValue):T(d))};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[T]),t.useEffect(()=>{g(e??i)},[e,i]);let N=t.useMemo(()=>({theme:i,setTheme:T,forcedTheme:e,resolvedTheme:i==="system"?f:i,themes:s?[...l,"system"]:l,systemTheme:s?f:void 0}),[i,T,e,f,s,l]);return t.createElement(M.Provider,{value:N},t.createElement(R,{forcedTheme:e,storageKey:m,attribute:h,enableSystem:s,enableColorScheme:u,defaultTheme:d,value:c,themes:l,nonce:y,scriptProps:k}),v)},R=t.memo(({forcedTheme:e,storageKey:a,attribute:s,enableSystem:u,enableColorScheme:m,defaultTheme:l,value:d,themes:h,nonce:c,scriptProps:v})=>{let y=JSON.stringify([s,a,l,e,h,d,u,m]).slice(1,-1);return t.createElement("script",{...v,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${H.toString()})(${y})`}})}),$=(e,a)=>{if(K)return;let s;try{s=localStorage.getItem(e)||void 0}catch{}return s||a},z=e=>{let a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(a),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(a)},1)}},_=e=>(e||(e=window.matchMedia(I)),e.matches?"dark":"light");function P({children:e,...a}){return O.jsx(V,{...a,children:e})}try{P.displayName="ThemeProvider",P.__docgenInfo={description:"",displayName:"ThemeProvider",props:{}}}catch{}export{P as T};
//# sourceMappingURL=theme-provider-BNnhpJ4B.js.map
