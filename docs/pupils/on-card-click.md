Ниже — готовые дизайн-требования в PlainText для **UX-прототипа детальной карточки навыка** (контент, который вы привели). Рассчитано на фронтенд-прототип без бэкенда — все интерактивности симулируются локально.

1. Назначение и контекст

* Цель: показать детальную статистику по одному навыку — краткую сводку + два набора прогрессов: «по последним N вопросам» и «за всё время».
* Контекст: открывается из карточки навыка (drawer/side panel/modal в прототипе). Desktop-first, адаптация на tablet/mobile.

2. Структура контента (соответствие скопированному тексту)

* Заголовок: «№19» (идентификатор навыка).
* Первый блок сводки:

  * «Выполнено отработок: 5» (целое число)
  * «Средний балл: 80%» (целое процентное значение)
* Секция A: «Средний балл по последним 15 вопросам.»

  * 4 строки (каждая строка — поднавык / вопрос): формат строки: `{numerator}/{denominator} <label>` + прогресс-бар + процентное значение.

    * Примеры строк из текста: `1/3 Здесь просто не должно быть запятой)` — 67%
      `1/9 Однородные придаточные` — 89%
      `2/45 Запятая в СПП` — 96%
      `0/3 Запятая при ОЧП` — 100%
* Секция B: «Средний балл за всё время.» — аналогично, 4 строки со значениями: 50%, 77%, 93%, 100%.

3. Layout / визуальная иерархия

* Контейнер: ширина прототипа при desktop = 420–480px; на mobile = 100% ширины. Отступы: padding 16–20px. border-radius 10px. Фон — светлый нейтральный.
* Заголовок №19 — H2 (16–18px bold). Сводка под ним — обычный текст 14px.
* Секции — H3/semibold 14px с отступом сверху 16px.
* Каждая строка прогресса — горизонтальная полоса с лейблом слева и процентом справа (или внутри заполненной части — см. правило ниже). Вертикальный gap между строками = 10–12px.
* Прогресс-бар: height 12–16px; border-radius 8px; внешняя рамка тонкая (1px) светлая. Заполненная часть анимируется при изменении (transition-width 300ms ease).

4. Правила отображения процентов и текста в баре

* Процент — целое число + «%». Отображение: по умолчанию — внутри заполненной части, выровнено по центру вертикально и горизонтально от левой границы заполнения.
* Fallback: если заполнение менее 20% — процент показывается справа снаружи бара (чтобы не обрезаться и быть читаемым).
* Если процент = 100% — заполнение занимает весь внутренний отступ, текст внутри остаётся читаемым.
* Если нет попыток (denominator = 0) — вместо процента показываем «—» и пустой (серый) бар.

5. Цветовые правила (семантика)

* Использовать семантические токены:

  * success ≥ 90% — зелёный (fill), текст на fill — тёмно-контрастный.
  * good 75–89% — желтый/amber.
  * ok 50–74% — orange.
  * poor < 50% — красный.
* Цвета должны обеспечивать читаемость текста: контраст текста ≥ 4.5:1 с фоном.
* Нейтральный фон бара — очень светлый нейтраль (контраст с текстом для лейблов ≥ 4.5:1).

6. Метки небольших выборок и предупреждения

* Если denominator < 3 (малый объём), рядом с лейблом отображать мини-пил «малый объём» / «n<3» (tooltip: «Малая выборка: результаты могут быть нестабильны»). Пил — тонкий, нейтральный цвет с иконкой восклицания.
* Если numerator = 0 и denominator > 0 — считать это корректной записью (показать 0%); если denominator = 0 — «нет попыток».

7. Текстовые правила и переносы

* Лейблы (label) могут быть длинные — максимально 2 строки, перенос по словам. Третий ряд обрезать с многоточием и показать полный текст в tooltip при hover/tap.
* Формат числа `{numerator}/{denominator}` — моноширинный (или medium) шрифт для выравнивания по вертикали.

8. Интерактивность и поведение прототипа (без API)

* Hover/Focus: при hover строки — лёгкий фон-хайлайт; при focus — четкая outline. Все кликабельные элементы доступны по клавиатуре.
* Click по строке: открывается симулированный модал/панель с примерами ошибок/последними попытками (в прототипе можно показать статическое содержимое).
* Tooltip при hover по `{n}/{d}` и по метке «малый объём». Tooltip: короткий explanatory текст.
* Анимация: при открытии детальной карточки прогресс-бары появляются с плавным заполнением (300ms) — имитировать живые данные.

9. Доступность (a11y)

* Каждый прогресс-бар — с вспомогательным aria-label: `"1 из 3 попыток — 67 процентов — метка: 'Здесь просто не должно быть запятой'"`.
* Текст процента продублирован в aria-label и в DOM (не только через CSS).
* Контраст текстов/кнопок — соответствие WCAG AA минимум.
* Клавиатурная навигация: Tab проходит по строкам; Enter/Space — открывает подробности.

10. Состояния и ошибки

* Loading: показать skeleton-ряды вместо реальных баров.
* Empty section: текст «Нет данных по этой группе/навыку».
* Ошибка загрузки (в прототипе симулируется): показать inline-баннер с кнопкой «Повторить» (повтор кнопки в прототипе просто перезагружает локальные данные).

11. Микроповедения и визуальные детали

* Иконка закрытия (если drawer/modal) — верхний правый угол, tappable area ≥ 44×44px.
* Использовать ровные округлые углы для баров и контейнера (radius 8–10px).
* Минимальная высота строки (линии) = 36px (чтобы избежать «переполнения» при тапе на mobile).
* Паддинги: внутренний padding контейнера 16–20px; между секциями 16px.

12. Тесты приёмки (Acceptance criteria)

* Для каждого ряда видим корректный `{n}/{d}` и процент, совпадающий с визуальной длиной бара (±1%).
* При denominator = 0 показывается «—» и пустой серый бар.
* При denominator < 3 показывается «малый объём» пил.
* Процент <20% — процент отрисован справа от бара (fallback).
* Все тултипы и модалки открываются и закрываются клавиатурой и мышью/тачем.
* Текстовые лейблы не выходят за границы контейнера; длинные лейблы обрезаются и доступны в tooltip.

13. Компоненты, которые нужны в прототипе

* SkillDetailContainer / Drawer (header + summary).
* ProgressSection (title + list of rows).
* ProgressRow (props: numerator, denominator, label, percent, smallSampleFlag).
* Tooltip, SmallSamplePill, SkeletonRow.
* CloseButton.

14. Примеры данных (использовать ваши значения для прототипа)

* Заголовок: №19
* Выполнено отработок: 5
* Средний балл: 80%
* Секция «последние 15»:

  * 1/3 — Здесь просто не должно быть запятой) — 67%
  * 1/9 — Однородные придаточные — 89%
  * 2/45 — Запятая в СПП — 96%
  * 0/3 — Запятая при ОЧП — 100%
* Секция «всё время»:

  * 2/4 — Здесь просто не должно быть запятой) — 50%
  * 3/13 — Однородные придаточные — 77%
  * 6/86 — Запятая в СПП — 93%
  * 0/3 — Запятая при ОЧП — 100%

15. Замечания по визуальному оформлению текста (копирайту)

* Исправить заметные опечатки/лишние скобки (например лишняя закрывающая скобка в «Здесь просто не должно быть запятой)») — показать как исходный label, но в прототипе можно добавить подсказку «оригинал подписи» если надо демонстрировать реальные данные.
* Нумерация `{n}/{d}` — всегда оставлять в начале лейбла (чтобы легче выравнивать), отделять пробелом.

Если нужно — могу прямо сейчас собрать один-файловый React/HTML прототип (статический) с этими требованиями (без API) и экспортировать как HTML/CSS для демонстрации.
