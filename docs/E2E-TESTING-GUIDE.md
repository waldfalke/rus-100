# üß™ E2E Testing Guide - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ç–µ—Å—Ç–æ–≤)
4. [Playwright + BDD](#playwright--bdd)
5. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è](#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
6. [CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#cicd-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
7. [Best Practices](#best-practices)

---

## üéØ –û–±–∑–æ—Ä

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Playwright** - E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **playwright-bdd** - Gherkin —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- **Visual Regression** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏ DOM —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **GitHub Actions** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤ CI/CD

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **Gherkin —Å—Ü–µ–Ω–∞—Ä–∏–∏** - –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º  
‚úÖ **–ü–æ–ª–Ω–æ–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –°–∫—Ä–∏–Ω—à–æ—Ç—ã, –≤–∏–¥–µ–æ, —Ç—Ä–µ–π—Å—ã  
‚úÖ **Visual Regression** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ UI  
‚úÖ **DOM Inspector** - –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
‚úÖ **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - –¢–µ—Å—Ç—ã –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ç–æ–∫–µ–Ω–æ–≤  
‚úÖ **CI/CD** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∏ –æ—Ç—á–µ—Ç—ã

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

\`\`\`bash
npm install
npm run test:e2e:install
\`\`\`

### 2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

\`\`\`bash
# –û–±—ã—á–Ω—ã–µ Playwright —Ç–µ—Å—Ç—ã
npm run test:e2e

# BDD (Gherkin) —Å—Ü–µ–Ω–∞—Ä–∏–∏
npm run test:bdd

# –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è
npm run test:visual

# –¢–µ—Å—Ç—ã –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω–æ–≤
npm run test:tokens

# –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É
npm run test:all
\`\`\`

### 3. –†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞

\`\`\`bash
# –° UI (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º)
npm run test:e2e:ui
npm run test:bdd:ui

# –° –±—Ä–∞—É–∑–µ—Ä–æ–º (headed mode)
npm run test:e2e:headed
npm run test:bdd:headed

# –î–µ–±–∞–≥ —Ä–µ–∂–∏–º
npm run test:e2e:debug
\`\`\`

### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤

\`\`\`bash
# HTML –æ—Ç—á–µ—Ç
npm run test:e2e:report
npm run test:bdd:report
\`\`\`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

\`\`\`
tests/e2e/
‚îú‚îÄ‚îÄ features/                          # Feature —Ñ–∞–π–ª—ã (Gherkin)
‚îÇ   ‚îú‚îÄ‚îÄ user-journey.feature          # –°—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—É—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ test-creation.feature         # –°—Ü–µ–Ω–∞—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ steps.ts                          # –®–∞–≥–æ–≤—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è BDD
‚îú‚îÄ‚îÄ step-definitions.ts               # (legacy) –°—Ç–∞—Ä—ã–µ —à–∞–≥–∏
‚îú‚îÄ‚îÄ creation-steps.ts                 # (legacy) –°—Ç–∞—Ä—ã–µ —à–∞–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ visual-regression.spec.ts         # –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ design-tokens.spec.ts             # –¢–µ—Å—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π)
‚îÇ
‚îú‚îÄ‚îÄ page-objects/                     # Page Object –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ BasePage.ts                   # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ
‚îî‚îÄ‚îÄ support/                          # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
    ‚îî‚îÄ‚îÄ setup.ts                      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
\`\`\`

---

## ü•í Playwright + BDD

### Gherkin –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

Feature —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä—É—Å—Å–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

\`\`\`gherkin
# language: ru

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
  –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  –Ø —Ö–æ—á—É –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
  –ß—Ç–æ–±—ã –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

  @navigation @visual
  –°—Ü–µ–Ω–∞—Ä–∏–π: Tab-–Ω–∞–≤–∏–≥–∞—Ü–∏—è
    –î–æ–ø—É—Å—Ç–∏–º —è –æ—Ç–∫—Ä—ã–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤
    –ò —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–∞
    –ö–æ–≥–¥–∞ —è –Ω–∞–∂–∏–º–∞—é Tab –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
    –¢–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ–æ–∫—É—Å
    –ò —è –≤–∏–∂—É –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ñ–æ–∫—É—Å–∞
\`\`\`

### –®–∞–≥–æ–≤—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ \`createBdd()\` –∏–∑ playwright-bdd:

\`\`\`typescript
import { createBdd } from 'playwright-bdd';
import { expect } from '@playwright/test';

const { Given, When, Then } = createBdd();

Given('—è –æ—Ç–∫—Ä—ã–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤', async ({ page }) => {
  await page.goto('/');
  await page.waitForLoadState('networkidle');
});

When('—è –Ω–∞–∂–∏–º–∞—é Tab –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏', async ({ page }) => {
  for (let i = 0; i < 5; i++) {
    await page.keyboard.press('Tab');
    await page.waitForTimeout(100);
  }
});

Then('–∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ–æ–∫—É—Å', async ({ page }) => {
  const focusedElement = page.locator('*:focus');
  await expect(focusedElement).toBeVisible();
});
\`\`\`

### –¢–µ–≥–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

–ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ —Ç–µ–≥–∞–º:

\`\`\`bash
# –¢–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
npx playwright test --grep @visual

# –¢–æ–ª—å–∫–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
npx playwright test --grep @navigation

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
npx playwright test --grep @creation
\`\`\`

---

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### 1. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–°–∫–∞–Ω–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —à–∞–≥–∏:

\`\`\`bash
npm run update:tests
\`\`\`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–∫–∞–Ω–∏—Ä—É–µ—Ç `src/components/` –∏ `src/app/`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç \`data-testid\`, –∫–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏, inputs
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Given/When/Then —à–∞–≥–∏
- –°–æ–∑–¥–∞–µ—Ç feature —Ñ–∞–π–ª—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–±–Ω–æ–≤–ª—è–µ—Ç \`tests/e2e/steps.ts\`

**–ü—Ä–∏–º–µ—Ä:**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å \`data-testid="submit-button"\`:
\`\`\`typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:
Given('–∫–Ω–æ–ø–∫–∞ submit –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è', async ({ page }) => {
  const button = page.locator('[data-testid="submit-button"]');
  await expect(button).toBeVisible();
});
\`\`\`

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω–∞–º–∏

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤:

\`\`\`bash
npm run sync:tokens
\`\`\`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ß–∏—Ç–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏–∑ \`design-system/tokens/\`
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç \`tests/e2e/design-tokens.spec.ts\`
- –°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç—ã –¥–ª—è:
  - –¶–≤–µ—Ç–æ–≤ (color tokens)
  - –û—Ç—Å—Ç—É–ø–æ–≤ (spacing tokens)
  - –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ (typography tokens)
  - –¢–µ–Ω–µ–π (shadow tokens)
  - –†–∞–¥–∏—É—Å–æ–≤ (border-radius tokens)
  - Responsive design

**–ó–∞–ø—É—Å–∫:**
\`\`\`bash
npm run test:tokens
\`\`\`

### 3. –ü–æ–ª–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å—ë —Å—Ä–∞–∑—É:

\`\`\`bash
npm run prepare:tests
\`\`\`

–í—ã–ø–æ–ª–Ω—è–µ—Ç:
1. \`update:tests\` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. \`sync:tokens\` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
3. \`bddgen\` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏–∑ feature —Ñ–∞–π–ª–æ–≤

---

## üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GitHub Actions Workflows

#### 1. E2E Tests (.github/workflows/e2e-tests.yml)

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏:
- Push –≤ \`main\` / \`develop\`
- Pull Request
- –í—Ä—É—á–Ω—É—é (workflow_dispatch)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ E2E —Ç–µ—Å—Ç—ã
- –ó–∞–ø—É—Å–∫–∞–µ—Ç BDD —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –≤–∏–¥–µ–æ, –æ—Ç—á–µ—Ç—ã)
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—Ç PR —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

#### 2. Visual Regression (.github/workflows/visual-regression.yml)

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏:
- Push –≤ \`main\` / \`develop\`
- Pull Request
- –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 UTC)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ DOM snapshots
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ GitHub

1. **Actions** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ workflow
2. **Artifacts** ‚Üí –°–∫–∞—á–∞–π—Ç–µ:
   - \`playwright-results\` - –ü–æ–ª–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - \`html-report\` - HTML –æ—Ç—á–µ—Ç
   - \`failed-screenshots\` - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤
   - \`failed-videos\` - –í–∏–¥–µ–æ —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤

---

## üìã Best Practices

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ data-testid

\`\`\`tsx
// ‚úÖ –•–æ—Ä–æ—à–æ
<button data-testid="submit-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

// ‚ùå –ü–ª–æ—Ö–æ (—Ö—Ä—É–ø–∫–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä)
<button className="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
\`\`\`

–í —Ç–µ—Å—Ç–∞—Ö:
\`\`\`typescript
const button = page.locator('[data-testid="submit-button"]');
\`\`\`

### 2. –ñ–¥–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

\`\`\`typescript
// ‚úÖ –•–æ—Ä–æ—à–æ
await page.goto('/');
await page.waitForLoadState('networkidle');

// ‚ùå –ü–ª–æ—Ö–æ
await page.goto('/');
await page.waitForTimeout(3000); // –ñ–µ—Å—Ç–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
\`\`\`

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Page Objects

\`\`\`typescript
class TestGeneratorPage {
  constructor(private page: Page) {}

  async navigateToGenerator() {
    await this.page.goto('/');
    await this.page.waitForLoadState('networkidle');
  }

  async fillTestName(name: string) {
    await this.page.locator('[data-testid="test-name"]').fill(name);
  }
}
\`\`\`

### 4. –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

\`\`\`typescript
test.describe('Test Generator', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/');
  });

  test('creates new test', async ({ page }) => {
    // ...
  });

  test('edits existing test', async ({ page }) => {
    // ...
  });
});
\`\`\`

### 5. –î–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

\`\`\`typescript
await page.screenshot({ 
  path: 'test-results/debug-state.png',
  fullPage: true 
});
\`\`\`

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–∞–±–æ—Ç–∞ —Å feature —Ñ–∞–π–ª–∞–º–∏

\`\`\`bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏–∑ feature —Ñ–∞–π–ª–æ–≤
npx bddgen

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ feature
npx playwright test tests/e2e/user-journey.feature
\`\`\`

### –†–∞–±–æ—Ç–∞ —Å –æ—Ç—á–µ—Ç–∞–º–∏

\`\`\`bash
# –û—Ç–∫—Ä—ã—Ç—å HTML –æ—Ç—á–µ—Ç
npx playwright show-report

# –û—Ç–∫—Ä—ã—Ç—å trace viewer
npx playwright show-trace test-results/.../trace.zip
\`\`\`

### –î–µ–±–∞–≥

\`\`\`bash
# –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
npx playwright test --debug

# –ü–æ–∫–∞–∑–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä
npx playwright test --headed

# –ó–∞–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
npx playwright test --headed --slow-mo=1000
\`\`\`

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Playwright**: https://playwright.dev
- **Playwright BDD**: https://github.com/vitalets/playwright-bdd
- **Gherkin —Å–∏–Ω—Ç–∞–∫—Å–∏—Å**: https://cucumber.io/docs/gherkin/

---

## üéì –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

–°–º. —Ñ–∞–π–ª—ã –≤ \`tests/e2e/\`:
- \`user-journey.feature\` - –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- \`test-creation.feature\` - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- \`visual-regression.spec.ts\` - –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### –í–∏–¥–µ–æ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:
- \`test-results/\` - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –≤–∏–¥–µ–æ
- Traces –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

---

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**
